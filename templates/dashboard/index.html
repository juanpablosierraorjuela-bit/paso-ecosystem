{% extends 'base.html' %}

{% block content %}
<div style="max-width: 1100px; margin: 0 auto; padding: 40px 20px;">
    
    <div style="display: flex; gap: 30px; flex-wrap: wrap;">
        
        <div class="glass-panel" style="flex: 1; min-width: 300px; padding: 30px; text-align: center;">
            <div class="salon-avatar" style="width: 120px; height: 120px; font-size: 3rem; margin: 0 auto 20px;">
                {% if salon.logo %}
                    <img src="{{ salon.logo.url }}" style="width:100%; height:100%; border-radius:18px; object-fit:cover;">
                {% else %}
                    {{ salon.name|slice:":1"|upper }}
                {% endif %}
            </div>
            <h2 style="font-weight: 800; margin: 0;">{{ salon.name }}</h2>
            <p style="color: var(--secondary); margin-bottom: 25px;">{{ salon.city }}</p>
            
            <div style="display: grid; gap: 10px;">
                <a href="{% url 'manage_services' %}" class="btn-access" style="text-align: center; width: 100%;">
                    <i class="fas fa-cut"></i> Mis Servicios
                </a>
                <a href="{% url 'salon_settings' %}" class="btn-secondary-custom" style="padding: 10px; border-radius: 50px; text-decoration: none; font-weight: 600; text-align: center; display: block; border: 1px solid #e2e8f0; color: var(--primary);">
                    <i class="fas fa-cog"></i> Configuración
                </a>
                <a href="{% url 'salon_detail' salon.slug %}" target="_blank" class="btn-secondary-custom" style="padding: 10px; border-radius: 50px; text-decoration: none; font-weight: 600; text-align: center; display: block; border: 1px solid #e2e8f0; color: var(--primary);">
                    <i class="fas fa-external-link-alt"></i> Ver Tienda
                </a>
            </div>
        </div>

        <div style="flex: 2; min-width: 300px;">
            <h1 style="font-weight: 800; margin-bottom: 30px;">Resumen</h1>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px;">
                <div class="salon-card" style="text-align: center; padding: 25px;">
                    <span style="display: block; font-size: 0.8rem; color: var(--secondary); text-transform: uppercase; font-weight: 800; letter-spacing: 1px;">Citas Hoy</span>
                    <span style="display: block; font-size: 2.5rem; font-weight: 800; color: var(--primary);">0</span>
                </div>
                <div class="salon-card" style="text-align: center; padding: 25px;">
                    <span style="display: block; font-size: 0.8rem; color: var(--secondary); text-transform: uppercase; font-weight: 800; letter-spacing: 1px;">Ingresos</span>
                    <span style="display: block; font-size: 2.5rem; font-weight: 800; color: #16a34a;">$0</span>
                </div>
                <div class="salon-card" style="text-align: center; padding: 25px;">
                    <span style="display: block; font-size: 0.8rem; color: var(--secondary); text-transform: uppercase; font-weight: 800; letter-spacing: 1px;">Equipo</span>
                    <span style="display: block; font-size: 2.5rem; font-weight: 800; color: var(--accent);">{{ salon.employees.count }}</span>
                </div>
            </div>

            <div class="glass-panel" style="padding: 30px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="margin: 0; font-weight: 800;">Mi Equipo</h3>
                    <a href="{% url 'create_employee' %}" class="btn-access" style="font-size: 0.8rem; padding: 8px 16px;">+ Nuevo</a>
                </div>
                {% if salon.employees.all %}
                    <div style="display: grid; gap: 10px;">
                        {% for emp in salon.employees.all %}
                            <div style="display: flex; justify-content: space-between; padding: 15px; background: #f8fafc; border-radius: 12px; border: 1px solid #e2e8f0;">
                                <span style="font-weight: 700;">{{ emp.name }}</span>
                                <span style="color: var(--secondary); font-size: 0.9rem;">{{ emp.phone }}</span>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p style="color: var(--secondary); text-align: center; padding: 20px;">Aún no tienes empleados registrados.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}