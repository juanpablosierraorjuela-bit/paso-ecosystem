{% extends 'base.html' %}
{% block content %}
<div class="container py-5 text-center" style="max-width: 500px;">
    <div class="icon-box bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-4 shadow" style="width: 80px; height: 80px;">
        <i class="fas fa-check fs-2"></i>
    </div>
    <h2 class="fw-bold mb-2">¡Hora Reservada!</h2>
    <p class="text-muted mb-4">Tienes 60 minutos para realizar el abono.</p>
    
    <div class="card border-0 bg-light p-4 rounded-4 mb-4">
        <h1 class="display-4 fw-bold text-dark mb-0" id="timer">59:59</h1>
        <small class="text-muted">Tiempo restante</small>
    </div>

    <a href="{{ wa_link }}" target="_blank" class="btn btn-success w-100 rounded-pill py-3 fw-bold shadow-lg mb-3 hover-scale">
        <i class="fab fa-whatsapp me-2"></i> Enviar Comprobante
    </a>
    <a href="{% url 'marketplace' %}" class="btn btn-link text-muted">Volver al inicio</a>
</div>

<script>
    // Timer simple de 60 mins
    let duration = 60 * 60;
    const display = document.querySelector('#timer');
    setInterval(function () {
        let minutes = parseInt(duration / 60, 10);
        let seconds = parseInt(duration % 60, 10);
        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;
        display.textContent = minutes + ":" + seconds;
        if (--duration < 0) duration = 0;
    }, 1000);
</script>
{% endblock %}
