{% extends 'base.html' %}
{% block content %}
<div style="display: flex; min-height: 100vh; margin-top: -20px;"> <aside style="width: 250px; background: #111; padding: 30px 20px; border-right: 1px solid #333; position: fixed; height: 100%; overflow-y: auto;">
        <h3 style="color: #d4af37; margin-bottom: 30px; font-size: 1.2rem;">PANEL DUEÃ‘O</h3>
        
        <nav style="display: flex; flex-direction: column; gap: 15px;">
            <a href="{% url 'businesses:dashboard' %}" class="menu-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                ğŸ“Š Dashboard
            </a>
            <a href="#" class="menu-item">
                ğŸ“… Citas / Agenda
            </a>
            <a href="{% url 'businesses:services' %}" class="menu-item {% if request.resolver_match.url_name == 'services' %}active{% endif %}">
                âœ‚ï¸ Servicios
            </a>
            <a href="{% url 'businesses:employees' %}" class="menu-item {% if request.resolver_match.url_name == 'employees' %}active{% endif %}">
                ğŸ‘¥ Equipo / Staff
            </a>
            <a href="{% url 'businesses:schedule' %}" class="menu-item {% if request.resolver_match.url_name == 'schedule' %}active{% endif %}">
                â° Horarios
            </a>
            <a href="{% url 'businesses:settings' %}" class="menu-item {% if request.resolver_match.url_name == 'settings' %}active{% endif %}">
                âš™ï¸ Mi Negocio
            </a>
        </nav>
        
        <div style="margin-top: 50px; padding: 15px; background: #222; border-radius: 10px; font-size: 0.8rem; color: #888;">
            <p>Estado: <span style="color: #4cd137;">En LÃ­nea</span></p>
            <p>Plan: <span style="color: #d4af37;">Pro</span></p>
        </div>
    </aside>


    <main style="flex: 1; padding: 40px; margin-left: 250px; background: #000; color: white; position: relative;">
        
        {% if request.user.business_profile and not request.user.business_profile.is_active_subscription and request.resolver_match.url_name != 'settings' %}
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
            <h1 style="font-size: 3rem; margin-bottom: 20px;">âš ï¸</h1>
            <h2 style="color: white; margin-bottom: 10px;">Cuenta Suspendida Temporalmente</h2>
            <p style="color: #888; max-width: 500px; margin-bottom: 30px;">
                Tu mensualidad de <strong>$50.000 COP</strong> estÃ¡ pendiente. 
                Para reactivar tu agenda y visibilidad en la App, por favor regulariza tu pago.
            </p>
            <a href="{% url 'businesses:settings' %}" style="background: #d4af37; color: black; padding: 15px 30px; text-decoration: none; font-weight: bold; border-radius: 50px;">
                Ir a Pagar Ahora â”
            </a>
        </div>
        {% endif %}

        {% block dashboard_content %}{% endblock %}
    </main>
    
</div>

<style>
    .menu-item {
        color: #ccc;
        text-decoration: none;
        padding: 10px 15px;
        border-radius: 8px;
        transition: all 0.3s;
        display: block;
    }
    .menu-item:hover, .menu-item.active {
        background: #d4af37;
        color: #000;
        font-weight: bold;
    }
</style>
{% endblock %}
