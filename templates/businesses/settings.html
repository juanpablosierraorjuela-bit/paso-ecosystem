{% extends 'businesses/base_dashboard.html' %}
{% block dashboard_content %}
<h1 style="color: #d4af37; margin-bottom: 20px;">‚öôÔ∏è Configuraci√≥n del Negocio</h1>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
    
    <div style="background: #111; padding: 30px; border-radius: 10px; border: 1px solid #333;">
        <h3 style="margin-bottom: 20px;">Datos P√∫blicos</h3>
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary" style="margin-top: 20px; width: 100%;">Guardar Cambios</button>
        </form>
    </div>

    
    <div style="background: #111; padding: 30px; border-radius: 10px; border: 1px solid #d4af37; height: fit-content;">
        <h3 style="margin-bottom: 20px; color: #d4af37;">üí≥ Mi Suscripci√≥n PASO</h3>
        
        <div style="margin-bottom: 20px;">
            <p style="color: #ccc; margin-bottom: 5px;">Plan Actual:</p>
            <strong style="font-size: 1.2rem; color: white;">Socio Ecosystem Pro</strong>
        </div>

        <div style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
            <div>
                <p style="color: #ccc; margin-bottom: 5px;">Estado:</p>
                {% if request.user.business_profile.is_active_subscription %}
                    <span style="color: #4cd137; background: rgba(76, 209, 55, 0.1); padding: 5px 10px; border-radius: 5px;">‚óè Activo</span>
                {% else %}
                    <span style="color: #e84118; background: rgba(232, 65, 24, 0.1); padding: 5px 10px; border-radius: 5px;">‚óè Suspendido</span>
                {% endif %}
            </div>
            <div style="text-align: right;">
                <p style="color: #ccc; margin-bottom: 5px;">Corte:</p>
                <span style="color: white;">{{ request.user.business_profile.subscription_end_date|default:"--/--/--" }}</span>
            </div>
        </div>

        <hr style="border-color: #333; margin: 20px 0;">

        <div style="text-align: center;">
            <p style="color: #888; font-size: 0.9rem; margin-bottom: 15px;">Mensualidad: <strong>$50.000 COP</strong></p>
            
            <a href="https://wa.me/573000000000?text=Hola%20PASO,%20soy%20el%20negocio%20{{ request.user.business_profile.business_name }}%20(ID:%20{{ request.user.business_profile.id }}).%20Quiero%20pagar%20mi%20suscripcion." 
               target="_blank" 
               style="background: #25D366; color: white; text-decoration: none; padding: 12px 20px; border-radius: 5px; display: block; font-weight: bold;">
               üü¢ Pagar v√≠a WhatsApp
            </a>
            <p style="color: #555; font-size: 0.8rem; margin-top: 10px;">
                Env√≠a tu comprobante para activar inmediatemente.
            </p>
        </div>
    </div>
    <div style="background: #111; padding: 30px; border-radius: 10px; border: 1px solid #333; height: fit-content;">
    
        <h3 style="margin-bottom: 20px;">Pagos y Abonos</h3>
        <p style="color: #888; font-size: 0.9rem; margin-bottom: 15px;">
            Define cu√°nto deben pagar tus clientes por adelantado para asegurar su cita.
        </p>
        <div style="padding: 15px; background: rgba(212, 175, 55, 0.1); border: 1px solid #d4af37; border-radius: 5px; color: #d4af37;">
            ‚ÑπÔ∏è El dinero del abono llega directamente a tu cuenta.
        </div>
    </div>
</div>
{% endblock %}
